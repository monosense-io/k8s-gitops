---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
metadata:
  name: business-metrics
  namespace: observability
resources:
  - servicemonitor.yaml
  - prometheusrule.yaml
  - business-metrics-configmap.yaml
configMapGenerator:
  - name: business-metrics-dashboard
    namespace: observability
    files:
      - grafana-dashboard.json
commonLabels:
  app.kubernetes.io/name: business-metrics
  app.kubernetes.io/component: monitoring
  app.kubernetes.io/part-of: victoria-metrics