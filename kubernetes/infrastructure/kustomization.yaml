---
# yaml-language-server: $schema=https://json.schemastore.org/kustomization
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
# Note: repositories is handled separately by flux-repositories Kustomization
resources:
  # - networking  # Day 2 - Cilium/CoreDNS/Spegel already deployed via Helmfile
  - gitops  # Flux GitOps infrastructure Kustomizations
  - security  # ClusterSecretStore (external-secrets only, RBAC/cert-manager disabled)
  - storage/openebs/ks.yaml  # OpenEBS LocalPV provisioner
  - storage  # Rook-Ceph distributed storage
  # - databases  # Day 2 - CloudNativePG
  # - cilium  # Day 2 - service mesh features
  - networking/cilium/clustermesh/ks.yaml  # Manage clustermesh secret via ExternalSecrets
  - networking/cilium/bgp/ks.yaml          # Own BGP peering policy via Flux
  - networking/cilium/gateway/ks.yaml      # Own Cilium GatewayClass via Flux
  - networking/envoy-gateway/ks.yaml       # Envoy Gateway (edge) via Flux
