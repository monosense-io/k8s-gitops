---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
  # Cilium: Bootstrap via Helmfile, then Flux adopts via HelmRelease (buroa pattern)
  - cilium/core/ks.yaml
  - cilium/ipam/infra/ks.yaml  # IPAM pool for LoadBalancer IPs
  - cilium/gateway/ks.yaml
  - cilium/bgp/
  - cilium/clustermesh/ks.yaml
  - coredns/ks.yaml
  # DISABLED: spegel incompatible with Talos Linux read-only filesystem
  # - spegel/ks.yaml
  - cloudflared/ks.yaml
  - external-dns/
