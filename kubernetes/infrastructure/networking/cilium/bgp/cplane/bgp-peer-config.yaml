---
# yaml-language-server: $schema=https://cilium.io/schemas/v2/CiliumBGPPeerConfig.json
apiVersion: cilium.io/v2
kind: CiliumBGPPeerConfig
metadata:
  name: cilium-bgp-peer
  namespace: kube-system
spec:
  # Timers tuned for fast detection without flapping
  timers:
    holdTimeSeconds: 9
    keepAliveTimeSeconds: 3
  ebgpMultihop: 1
  gracefulRestart:
    enabled: true
    restartTimeSeconds: 15
  families:
    - afi: ipv4
      safi: unicast
      # Bind to advertisements labeled 'advertise: bgp'
      advertisements:
        matchLabels:
          advertise: "bgp"

