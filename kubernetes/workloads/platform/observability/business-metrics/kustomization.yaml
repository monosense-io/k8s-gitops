---
# Business Metrics Integration
# Adds business metrics monitoring to the observability stack
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
metadata:
  name: business-metrics
  namespace: observability
resources:
  - ../../../../components/monitoring/business-metrics/servicemonitor.yaml
  - ../../../../components/monitoring/business-metrics/prometheusrule.yaml
  - ../../../../components/monitoring/business-metrics/business-metrics-configmap.yaml
configMapGenerator:
  - name: business-metrics-dashboard
    namespace: observability
    files:
      - ../../../../components/monitoring/business-metrics/grafana-dashboard.json
commonLabels:
  app.kubernetes.io/name: business-metrics
  app.kubernetes.io/component: monitoring
  app.kubernetes.io/part-of: victoria-metrics